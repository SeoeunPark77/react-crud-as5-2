{"ast":null,"code":"var _jsxFileName = \"/Users/kim-yujin/Downloads/2024_OSSWorkspace/as5-1/src/Pages/ShowList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Button from '../components/Button';\nimport Modal from '../components/Modal';\nimport DataList from '../components/DataList';\nimport Form from '../components/Form';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst baseURL = \"https://6728fadd6d5fa4901b6bbadc.mockapi.io/users\";\nfunction ShowList() {\n  _s();\n  const [data, setData] = useState([]);\n  const [isAddModalOpen, setAddModalOpen] = useState(false);\n  const [isUpdateModalOpen, setUpdateModalOpen] = useState(false);\n  const [selectedData, setSelectedData] = useState(null);\n  const fetchData = async () => {\n    try {\n      const response = await fetch(baseURL);\n      const result = await response.json();\n      setData(result);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const handleCreate = async newData => {\n    try {\n      const response = await fetch(baseURL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newData)\n      });\n      if (response.ok) {\n        alert('데이터가 추가되었습니다.');\n        fetchData();\n        setAddModalOpen(false);\n      }\n    } catch (error) {\n      console.error('Error adding data:', error);\n    }\n  };\n  const handleUpdate = async updatedData => {\n    try {\n      const response = await fetch(`${baseURL}/${updatedData.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updatedData)\n      });\n      if (response.ok) {\n        alert('데이터가 수정되었습니다.');\n        fetchData();\n        setUpdateModalOpen(false);\n      }\n    } catch (error) {\n      console.error('Error updating data:', error);\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      const response = await fetch(`${baseURL}/${id}`, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        alert('데이터가 삭제되었습니다.');\n        fetchData();\n      }\n    } catch (error) {\n      console.error('Error deleting data:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"AJAX CRUD \\uD398\\uC774\\uC9C0 \\uAD6C\\uD604 (22200150 \\uAE40\\uC720\\uC9C4)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: fetchData,\n      children: \"\\uB370\\uC774\\uD130 \\uC870\\uD68C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => setAddModalOpen(true),\n      children: \"\\uB370\\uC774\\uD130 \\uCD94\\uAC00\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(DataList, {\n      data: data,\n      onEdit: item => {\n        setSelectedData(item);\n        setUpdateModalOpen(true);\n      },\n      onDelete: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isAddModalOpen,\n      onClose: () => setAddModalOpen(false),\n      title: \"\\uB370\\uC774\\uD130 \\uCD94\\uAC00\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleCreate,\n        buttonLabel: \"\\uCD94\\uAC00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isUpdateModalOpen,\n      onClose: () => setUpdateModalOpen(false),\n      title: \"\\uB370\\uC774\\uD130 \\uC218\\uC815\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        initialData: selectedData,\n        onSubmit: handleUpdate,\n        buttonLabel: \"\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(ShowList, \"ZcKN/E81qIXwOSUfAfwjDXkk+B8=\");\n_c = ShowList;\nexport default ShowList;\nvar _c;\n$RefreshReg$(_c, \"ShowList\");","map":{"version":3,"names":["React","useState","useEffect","Button","Modal","DataList","Form","jsxDEV","_jsxDEV","Fragment","_Fragment","baseURL","ShowList","_s","data","setData","isAddModalOpen","setAddModalOpen","isUpdateModalOpen","setUpdateModalOpen","selectedData","setSelectedData","fetchData","response","fetch","result","json","error","console","handleCreate","newData","method","headers","body","JSON","stringify","ok","alert","handleUpdate","updatedData","id","handleDelete","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onEdit","item","onDelete","isOpen","onClose","title","onSubmit","buttonLabel","initialData","_c","$RefreshReg$"],"sources":["/Users/kim-yujin/Downloads/2024_OSSWorkspace/as5-1/src/Pages/ShowList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Button from '../components/Button';\nimport Modal from '../components/Modal';\nimport DataList from '../components/DataList';\nimport Form from '../components/Form';\n\nconst baseURL = \"https://6728fadd6d5fa4901b6bbadc.mockapi.io/users\";\n\nfunction ShowList() {\n    const [data, setData] = useState([]);\n    const [isAddModalOpen, setAddModalOpen] = useState(false);\n    const [isUpdateModalOpen, setUpdateModalOpen] = useState(false);\n    const [selectedData, setSelectedData] = useState(null);\n\n    const fetchData = async () => {\n        try {\n            const response = await fetch(baseURL);\n            const result = await response.json();\n            setData(result);\n        } catch (error) {\n            console.error('Error fetching data:', error);\n        }\n    };\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    const handleCreate = async (newData) => {\n        try {\n            const response = await fetch(baseURL, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(newData),\n            });\n            if (response.ok) {\n                alert('데이터가 추가되었습니다.');\n                fetchData();\n                setAddModalOpen(false);\n            }\n        } catch (error) {\n            console.error('Error adding data:', error);\n        }\n    };\n\n    const handleUpdate = async (updatedData) => {\n        try {\n            const response = await fetch(`${baseURL}/${updatedData.id}`, {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(updatedData),\n            });\n            if (response.ok) {\n                alert('데이터가 수정되었습니다.');\n                fetchData();\n                setUpdateModalOpen(false);\n            }\n        } catch (error) {\n            console.error('Error updating data:', error);\n        }\n    };\n\n    const handleDelete = async (id) => {\n        try {\n            const response = await fetch(`${baseURL}/${id}`, { method: 'DELETE' });\n            if (response.ok) {\n                alert('데이터가 삭제되었습니다.');\n                fetchData();\n            }\n        } catch (error) {\n            console.error('Error deleting data:', error);\n        }\n    };\n\n    return (\n        <>\n            <h1>AJAX CRUD 페이지 구현 (22200150 김유진)</h1>\n            <Button onClick={fetchData}>데이터 조회</Button>\n            <Button onClick={() => setAddModalOpen(true)}>데이터 추가</Button>\n            <br /><br />\n            <DataList data={data} onEdit={(item) => { setSelectedData(item); setUpdateModalOpen(true); }} onDelete={handleDelete} />\n            <Modal isOpen={isAddModalOpen} onClose={() => setAddModalOpen(false)} title=\"데이터 추가\">\n                <Form onSubmit={handleCreate} buttonLabel=\"추가\" />\n            </Modal>\n            <Modal isOpen={isUpdateModalOpen} onClose={() => setUpdateModalOpen(false)} title=\"데이터 수정\">\n                <Form initialData={selectedData} onSubmit={handleUpdate} buttonLabel=\"수정\" />\n            </Modal>\n        </>\n    );\n}\n\nexport default ShowList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}