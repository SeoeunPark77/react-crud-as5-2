{"ast":null,"code":"var _jsxFileName = \"/Users/kim-yujin/Downloads/2024_OSSWorkspace/as5-2/src/components/Pages/ShowList.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport DataList from \"../DataList\";\nimport AddDataModal from \"../AddDataModal\";\nimport UpdateDataModal from \"../UpdateDataModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseURL = \"https://6728fadd6d5fa4901b6bbadc.mockapi.io/users\";\nfunction App() {\n  _s();\n  const [data, setData] = useState([]);\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\n  const [isUpdateModalOpen, setIsUpdateModalOpen] = useState(false);\n  const [editItem, setEditItem] = useState(null);\n\n  // Fetch data from the API\n  const fetchData = async () => {\n    try {\n      const response = await fetch(baseURL);\n      const result = await response.json();\n      setData(result);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  // Handle Add Modal open\n  const openAddModal = () => setIsAddModalOpen(true);\n\n  // Handle Update Modal open\n  const openUpdateModal = item => {\n    setEditItem(item);\n    setIsUpdateModalOpen(true);\n  };\n\n  // Close modals\n  const closeModal = () => {\n    setIsAddModalOpen(false);\n    setIsUpdateModalOpen(false);\n    setEditItem(null);\n  };\n\n  // Handle delete operation\n  const handleDeleteData = async id => {\n    try {\n      const response = await fetch(`${baseURL}/${id}`, {\n        method: \"DELETE\"\n      });\n      if (response.ok) {\n        alert(\"데이터가 삭제되었습니다.\");\n        fetchData(); // Refresh the data list\n      } else {\n        alert(\"삭제 실패\");\n      }\n    } catch (error) {\n      console.error(\"Error deleting data:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"AJAX CRUD \\uD398\\uC774\\uC9C0 \\uAD6C\\uD604 (22200150 \\uAE40\\uC720\\uC9C4)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchData,\n      children: \"\\uB370\\uC774\\uD130 \\uC870\\uD68C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: openAddModal,\n      children: \"\\uB370\\uC774\\uD130 \\uCD94\\uAC00\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataList, {\n      data: data,\n      onUpdate: openUpdateModal,\n      onDelete: handleDeleteData // Pass delete handler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), isAddModalOpen && /*#__PURE__*/_jsxDEV(AddDataModal, {\n      onClose: closeModal,\n      onAddData: fetchData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), isUpdateModalOpen && editItem && /*#__PURE__*/_jsxDEV(UpdateDataModal, {\n      item: editItem,\n      onClose: closeModal,\n      onUpdateData: fetchData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"OCTvVN5W3Z3F43AWUbRnuo5ZWyI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","DataList","AddDataModal","UpdateDataModal","jsxDEV","_jsxDEV","baseURL","App","_s","data","setData","isAddModalOpen","setIsAddModalOpen","isUpdateModalOpen","setIsUpdateModalOpen","editItem","setEditItem","fetchData","response","fetch","result","json","error","console","openAddModal","openUpdateModal","item","closeModal","handleDeleteData","id","method","ok","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onUpdate","onDelete","onClose","onAddData","onUpdateData","_c","$RefreshReg$"],"sources":["/Users/kim-yujin/Downloads/2024_OSSWorkspace/as5-2/src/components/Pages/ShowList.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport DataList from \"../DataList\";\nimport AddDataModal from \"../AddDataModal\";\nimport UpdateDataModal from \"../UpdateDataModal\";\n\nconst baseURL = \"https://6728fadd6d5fa4901b6bbadc.mockapi.io/users\";\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\n  const [isUpdateModalOpen, setIsUpdateModalOpen] = useState(false);\n  const [editItem, setEditItem] = useState(null);\n\n  // Fetch data from the API\n  const fetchData = async () => {\n    try {\n      const response = await fetch(baseURL);\n      const result = await response.json();\n      setData(result);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  // Handle Add Modal open\n  const openAddModal = () => setIsAddModalOpen(true);\n\n  // Handle Update Modal open\n  const openUpdateModal = (item) => {\n    setEditItem(item);\n    setIsUpdateModalOpen(true);\n  };\n\n  // Close modals\n  const closeModal = () => {\n    setIsAddModalOpen(false);\n    setIsUpdateModalOpen(false);\n    setEditItem(null);\n  };\n\n  // Handle delete operation\n  const handleDeleteData = async (id) => {\n    try {\n      const response = await fetch(`${baseURL}/${id}`, { method: \"DELETE\" });\n      if (response.ok) {\n        alert(\"데이터가 삭제되었습니다.\");\n        fetchData(); // Refresh the data list\n      } else {\n        alert(\"삭제 실패\");\n      }\n    } catch (error) {\n      console.error(\"Error deleting data:\", error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>AJAX CRUD 페이지 구현 (22200150 김유진)</h1>\n      <button onClick={fetchData}>데이터 조회</button>\n      <button onClick={openAddModal}>데이터 추가</button>\n\n      {/* Data List */}\n      <DataList\n        data={data}\n        onUpdate={openUpdateModal}\n        onDelete={handleDeleteData}  // Pass delete handler\n      />\n\n      {/* Add Data Modal */}\n      {isAddModalOpen && (\n        <AddDataModal onClose={closeModal} onAddData={fetchData} />\n      )}\n\n      {/* Update Data Modal */}\n      {isUpdateModalOpen && editItem && (\n        <UpdateDataModal\n          item={editItem}\n          onClose={closeModal}\n          onUpdateData={fetchData}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}